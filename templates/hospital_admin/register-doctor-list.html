{%load static%}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=0"
    />
    <title>MediCare</title>

    <!-- Favicon -->

    <link
      rel="shortcut icon"
      type="image/x-icon"
      href="{% static 'MediCare/images/Normal/favicon.png' %}"
    />

    <!-- CSS Files -->
    <link
      rel="stylesheet"
      href="{% static 'MediCare/css/bootstrap.min.css' %}"
    />

    <link rel="stylesheet" href="{% static 'MediCare/css/all.min.css' %}" />

    <!-- Main CSS -->
    <link rel="stylesheet" href="{% static 'MediCare/css/admin/style.css' %}" />
  </head>
  <body>
    <!-- Main Wrapper -->

    <div class="main-wrapper">
      <header class="header">
        {% include 'hospital_admin/hospital-admin-navbar.html' %}
      </header>
      <!-- /Header -->

      <!-- Sidebar -->
      <aside class="sidebar" id="sidebar">
        {% include 'hospital_admin/hospital-admin-sidebar.html' %}
      </aside>
      <div class="sidebar-overlay" id="sidebarOverlay"></div>
      <!-- /Sidebar -->

      <!-- Page Wrapper -->
      <div class="page-container registered-docs">
        <div class="content container-fluid">
          <!-- Page Header -->
          <div class="page-header">
            <div class="row">
              <div class="col-12">
                <div class="text-center">
                  <h1 class="page-title mb-0">
                    <i class="fa-solid fa-user-doctor"></i>
                    Registered Doctors
                  </h1>
                </div>
              </div>
            </div>
          </div>
          <div class="doctors-table-container">
            <div class="card">
              <div class="card-content">
                <div class="table-wrapper table-responsive">
                  <table class="doctors-table">
                    <thead>
                      <tr>
                        <th>Doctor Name</th>
                        <th>Email</th>
                        <th>Department</th>
                        <th>Hospital</th>
                        <th>Actions</th>
                      </tr>
                    </thead>
                    <tbody>
                      {% for doctor in doctors %}
                      <tr>
                        <td>
                          <div class="doctor-info">
                            <img
                              src="{{doctor.featured_image.url}}"
                              alt="{{doctor.name}} profile photo"
                              class="doctor-avatar"
                            />
                            <a
                              href="{% url 'admin-doctor-profile' doctor.doctor_id %}"
                              class="doctor-name"
                            >
                              {{doctor.name}}
                            </a>
                          </div>
                        </td>
                        {% if doctor.email %}
                        <td>{{doctor.email}}</td>
                        {% else %}
                        <td>Unavailable</td>
                        {% endif %}
                        {% if doctor.department_name %}
                        <td>{{doctor.department_name.hospital_department_name}}</td>
                        {% else %}
                        <td>Unavailable</td>
                        {% endif %} {% if doctor.hospital_name %}
                        <td>{{doctor.hospital_name}}</td>
                        {% else %}
                        <td>Unavailable</td>
                        {% endif %}
                        <td>
                          <a
                            href="{% url 'admin-doctor-profile' doctor.doctor_id %}"
                            class="view-profile-btn"
                          >
                            <span class="btn-icon">üëÅÔ∏è</span>
                            <span class="btn-text">View Profile</span>
                          </a>
                        </td>
                      </tr>
                      {% endfor %}
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- /Page Wrapper -->
      </div>
    </div>

    <!-- /Main Wrapper -->

    <!-- Scripts -->
    <script src="{% static 'MediCare/js/jquery.min.js' %}"></script>
    <script src="{% static 'MediCare/js/popper.min.js' %}"></script>
    <script src="{% static 'MediCare/js/bootstrap.bundle.min.js' %}"></script>
    <script src="{% static 'MediCare/js/all.min.js' %}"></script>
    <script src="{% static 'MediCare/js/admin.js' %}"></script>
  </body>
</html>
