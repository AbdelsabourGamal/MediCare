{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>MediCare</title>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=0"
    />

    <!-- Favicon -->

    <link
      rel="shortcut icon"
      type="image/x-icon"
      href="{% static 'HealthStack-System/images/Normal/favicon.png' %}"
    />

    <!-- CSS Files -->
    <link
      rel="stylesheet"
      href="{% static 'HealthStack-System/css/bootstrap.min.css' %}"
    />

    <link
      rel="stylesheet"
      href="{% static 'HealthStack-System/css/all.min.css' %}"
    />

    <!-- Main CSS -->
    <link
      rel="stylesheet"
      href="{% static 'HealthStack-System/css/admin/style.css' %}"
    />
  </head>

  <body>
    <!-- Main Wrapper -->
    <div class="main-wrapper">
      <header class="header">
        {% include 'hospital_admin/hospital-admin-navbar.html' %}
      </header>
      <!-- /Header -->

      <!-- Sidebar -->
      <aside class="sidebar" id="sidebar">
        {% include 'hospital_admin/hospital-admin-sidebar.html' %}
      </aside>
      <div class="sidebar-overlay" id="sidebarOverlay"></div>
      <!-- /Sidebar -->
	  .page-container.doctor-profile
      <div class="page-container doctor-profile">
        <div class="content container-fluid">
          <!-- Doctor Profile Header -->
          <div class="doctor-profile-header">
            <div class="row align-items-center">
              <div class="col-md-3 text-center">
                <img
                  src="{{doctor.featured_image.url}}"
                  alt="Dr. {{doctor.name}}"
                  class="doctor-avatar"
                />
              </div>
              <div class="col-md-6">
                <div class="doctor-info">
                  <h1>Dr. {{doctor.name}}</h1>
                  <div class="doctor-specialty">
                    {{doctor.department_name.hospital_department_name}}
                  </div>
                  <div class="doctor-hospital">{{doctor.hospital_name}}</div>
                  <div class="info-badges">
                    <span class="info-badge">
                      <i class="fas fa-map-marker-alt me-1"></i>
                      Dhaka, Bangladesh
                    </span>
                    <span class="info-badge">
                      <i class="fas fa-stethoscope me-1"></i>
                      {{doctor.specialization.specialization_name}}
                    </span>
                  </div>
                </div>
              </div>
              <div class="col-md-3">
                <div class="clinic-gallery">
                  <img
                    src="{% static 'HealthStack-System/images/Normal/gyno1.jpg'%}"
                    alt="Clinic Image"
                    data-bs-toggle="modal"
                    data-bs-target="#galleryModal"
                  />
                  <img
                    src="{% static 'HealthStack-System/images/Normal/gyno2.jpg'%}"
                    alt="Clinic Image"
                    data-bs-toggle="modal"
                    data-bs-target="#galleryModal"
                  />
                  <img
                    src="{% static 'HealthStack-System/images/Normal/gyno3.jpg'%}"
                    alt="Clinic Image"
                    data-bs-toggle="modal"
                    data-bs-target="#galleryModal"
                  />
                  <img
                    src="{% static 'HealthStack-System/images/Normal/gyno4.jpg'%}"
                    alt="Clinic Image"
                    data-bs-toggle="modal"
                    data-bs-target="#galleryModal"
                  />
                </div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-lg-8">
              <!-- Doctor Details Section -->
              <div class="details-section">
                <!-- Custom Tab Navigation -->
                <ul class="nav nav-tabs nav-tabs-custom" role="tablist">
                  <li class="nav-item" role="presentation">
                    <button
                      class="nav-link active"
                      id="overview-tab"
                      data-bs-toggle="tab"
                      data-bs-target="#overview"
                      type="button"
                      role="tab"
                    >
                      <i class="fas fa-user-md me-2"></i>Overview
                    </button>
                  </li>
                  <li class="nav-item" role="presentation">
                    <button
                      class="nav-link"
                      id="certificate-tab"
                      data-bs-toggle="tab"
                      data-bs-target="#certificate"
                      type="button"
                      role="tab"
                    >
                      <i class="fas fa-certificate me-2"></i>Certificate
                    </button>
                  </li>
                </ul>

                <!-- Tab Content -->
                <div class="tab-content">
                  <!-- Overview Tab -->
                  <div
                    class="tab-pane fade show active"
                    id="overview"
                    role="tabpanel"
                  >
                    <!-- About Section -->
                    <div class="widget">
                      <h4 class="widget-title">About Me</h4>
                      <p class="text-muted">{{doctor.description}}</p>
                    </div>

                    <!-- Education Section -->
                    <div class="widget">
                      <h4 class="widget-title">Education</h4>
                      <ul class="experience-list">
                        {% for e in educations %}
                        <li>
                        
                          <div class="timeline-content">
                            <a href="#" class="name">{{e.degree}}</a>
                            <div class="text-muted">{{e.institute}}</div>
                            <span class="time">{{e.year_of_completion}}</span>
                          </div>
                        </li>
                        {% endfor %}
                      </ul>
                    </div>

                    <!-- Experience Section -->
                    <div class="widget">
                      <h4 class="widget-title">Work & Experience</h4>
                      <ul class="experience-list">
                        {% for e in experiences %}
                        <li>
                          <div class="before-circle"></div>
                          <div class="timeline-content">
                            <a href="#" class="name">{{e.designation}}</a>
                            <div class="text-muted">{{e.work_place_name}}</div>
                            <span class="time"
                              >{{e.from_year}} - {{e.to_year}}</span
                            >
                          </div>
                        </li>
                        {% endfor %}
                      </ul>
                    </div>

                    <!-- Specializations -->
                    <div class="widget">
                      <h4 class="widget-title">Specializations</h4>
                      <div class="specializations-list">
                        <ul>
                          <li>{{doctor.specialization.specialization_name}}</li>
                        </ul>
                      </div>
                    </div>
                  </div>

                  <!-- Certificate Tab -->
                  <div class="tab-pane fade" id="certificate" role="tabpanel">
                    <div class="certificate-container">
                      <img
                        src="{{doctor.certificate_image.url}}"
                        alt="Medical Certificate"
                        class="certificate-image"
                        data-bs-toggle="modal"
                        data-bs-target="#certificateModal"
                      />
                      <p class="text-muted mt-3">
                        Click to view full certificate
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="col-lg-4">
              <!-- Booking Section -->
              <div class="booking-section">
                <div class="text-center">
                  <div class="consultation-fee">
                    <i class="fas fa-money-bill-wave me-2"></i>
                    {{doctor.consultation_fee}} EGP
                  </div>
                  <p class="text-muted mb-3">Consultation Fee</p>

                  {% if user.is_authenticated and user.is_patient %}
                  <a
                    href="{% url 'booking' pk=doctor.doctor_id %}"
                    class="book-appointment-btn"
                  >
                    <i class="fas fa-calendar-check"></i>
                    Book Your Appointment
                  </a>
                  {% else %}
                  <div class="alert alert-info">
                    <i class="fas fa-info-circle me-2"></i>
                    Please login as a patient to book an appointment
                  </div>
                  {% endif %}
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Certificate Modal -->
        <div class="modal fade" id="certificateModal" tabindex="-1">
          <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title">Medical Certificate</h5>
                <button
                  type="button"
                  class="btn-close"
                  data-bs-dismiss="modal"
                ></button>
              </div>
              <div class="modal-body text-center">
                <img
                  src="{{doctor.certificate_image.url}}"
                  alt="Certificate"
                  class="img-fluid"
                />
              </div>
            </div>
          </div>
        </div>

        <!-- Gallery Modal -->
        <div class="modal fade" id="galleryModal" tabindex="-1">
          <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title">Clinic Gallery</h5>
                <button
                  type="button"
                  class="btn-close"
                  data-bs-dismiss="modal"
                ></button>
              </div>
              <div class="modal-body">
                <div
                  id="clinicCarousel"
                  class="carousel slide"
                  data-bs-ride="carousel"
                >
                  <div class="carousel-inner">
                    <div class="carousel-item active">
                      <img
                        src="{% static 'HealthStack-System/images/Normal/gyno1.jpg'%}"
                        class="d-block w-100"
                        alt="Clinic Image"
                      />
                    </div>
                    <div class="carousel-item">
                      <img
                        src="{% static 'HealthStack-System/images/Normal/gyno2.jpg'%}"
                        class="d-block w-100"
                        alt="Clinic Image"
                      />
                    </div>
                    <div class="carousel-item">
                      <img
                        src="{% static 'HealthStack-System/images/Normal/gyno3.jpg'%}"
                        class="d-block w-100"
                        alt="Clinic Image"
                      />
                    </div>
                    <div class="carousel-item">
                      <img
                        src="{% static 'HealthStack-System/images/Normal/gyno4.jpg'%}"
                        class="d-block w-100"
                        alt="Clinic Image"
                      />
                    </div>
                  </div>
                  <button
                    class="carousel-control-prev"
                    type="button"
                    data-bs-target="#clinicCarousel"
                    data-bs-slide="prev"
                  >
                    <span class="carousel-control-prev-icon"></span>
                  </button>
                  <button
                    class="carousel-control-next"
                    type="button"
                    data-bs-target="#clinicCarousel"
                    data-bs-slide="next"
                  >
                    <span class="carousel-control-next-icon"></span>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- /Main Wrapper -->

    <!-- Scripts -->
    <script src="{% static 'HealthStack-System/js/jquery.min.js' %}"></script>
    <script src="{% static 'HealthStack-System/js/popper.min.js' %}"></script>
    <script src="{% static 'HealthStack-System/js/bootstrap.bundle.min.js' %}"></script>
    <script src="{% static 'HealthStack-System/js/all.min.js' %}"></script>
    <script src="{% static 'HealthStack-System/js/admin.js' %}"></script>
  </body>
</html>
